// types/book.ts
export interface BookMeta {
  slug: string;
  title: string;
  author?: string;
  publisher?: string;
  publishedDate?: string;
  isbn?: string;
  description?: string;
  summary?: string;
  coverImage?: string;
  heroImage?: string;
  tags?: string[];
  category?: string;
  resources?: {
    downloads?: Array<{ href: string; title?: string }>;
    reads?: Array<{ href: string; title?: string }>;
    videos?: Array<{ href: string; title?: string }>;
  };
  content?: string;
  excerpt?: string;
  status?: 'published' | 'draft' | 'archived';
  featured?: boolean;
  rating?: number;
  pages?: number;
  language?: string;
  format?: 'hardcover' | 'paperback' | 'ebook' | 'audiobook';
  purchaseLinks?: Array<{
    platform: string;
    url: string;
    price?: string;
  }>;
  // Add fields to match usage in components
  _type?: "book";
  date?: string;
  readTime?: string;
}

export interface BookFilters {
  category?: string;
  author?: string;
  status?: string;
  featured?: boolean;
  tags?: string[];
}

export interface BookListResponse {
  books: BookMeta[];
  total: number;
  page: number;
  limit: number;
  hasMore: boolean;
}

// Utility types for book operations
export type BookField = keyof BookMeta;
export type BookCreateInput = Omit<BookMeta, 'slug'>;
export type BookUpdateInput = Partial<BookCreateInput>;

// Validation schemas (for runtime validation if needed)
export const bookRequiredFields: BookField[] = ['slug', 'title'];
export const bookOptionalFields: BookField[] = [
  'author', 'publisher', 'publishedDate', 'isbn', 'description', 'summary',
  'coverImage', 'heroImage', 'tags', 'category', 'resources', 'content',
  'excerpt', 'status', 'featured', 'rating', 'pages', 'language', 'format',
  'purchaseLinks', '_type', 'date', 'readTime'
];
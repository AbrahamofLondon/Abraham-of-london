importReactfrom"react";importImagefrom"next/image";importLinkfrom"next/link";typeProps={title:string;author:string;slug:string;coverImage:string;//preferalocal/publicpathexcerpt?:string;pdf?:string|null;//local/publicpathrecommendedepub?:string|null;//local/publicpathrecommendedclassName?:string;priority?:boolean;//optional;trueonlyifabove-the-fold};constDEFAULT_COVER="/assets/images/default-book.jpg";constisExternal=(u?:string|null)=>!!u&&/^https?:\/\//i.test(u);consttoLocalOrFallback=(src?:string)=>src&&src.startsWith("/")?src:DEFAULT_COVER;exportdefaultfunctionFeaturedBook({title,author,slug,coverImage,excerpt,pdf,epub,className="",priority=false,}:Props){const[imgSrc,setImgSrc]=React.useState(toLocalOrFallback(coverImage));constheadingId=React.useId();return(<sectionaria-labelledby={headingId}className={`rounded-2xlbg-warmWhiteborderborder-lightGrey/70shadow-cardoverflow-hiddenmb-14${className}`}itemScopeitemType="https://schema.org/Book"><metaitemProp="name"content={title}/><metaitemProp="author"content={author}/><divclassName="gridmd:grid-cols-2"><figureclassName="relativeh-72md:h-fullm-0"><Imagesrc={imgSrc}alt={`${title}-bookcover`}fillclassName="object-cover"sizes="(max-width:768px)100vw,50vw"priority={priority}onError={()=>setImgSrc(DEFAULT_COVER)}/><metaitemProp="image"content={imgSrc}/></figure><divclassName="p-6md:p-8flexflex-coljustify-center"><h2id={headingId}className="font-seriftext-3xltext-forestmb-2">FeaturedBook</h2><h3className="text-2xlfont-semiboldmb-1"itemProp="name">{title}</h3><pclassName="text-smtext-[color:var(--color-on-secondary)/0.8]mb-4">By<spanitemProp="author">{author}</span></p>{excerpt&&(<pclassName="text-deepCharcoalmb-6"itemProp="description">{excerpt}</p>)}<divclassName="flexflex-wrapgap-3"><Linkhref={`/books/${slug}`}prefetch={false}className="bg-foresttext-creampx-4py-2rounded-[6px]hover:bg-softGoldhover:text-foresttransition"aria-labelledby={headingId}>Learnmore</Link>{pdf&&(<ahref={pdf}{...(isExternal(pdf)?{target:"_blank",rel:"noopenernoreferrer"}:{download:""})}className="border-2border-foresttext-forestpx-4py-2rounded-[6px]hover:bg-foresthover:text-creamtransition"itemProp="workExample">DownloadPDF</a>)}{epub&&(<ahref={epub}{...(isExternal(epub)?{target:"_blank",rel:"noopenernoreferrer"}:{download:""})}className="border-2border-foresttext-forestpx-4py-2rounded-[6px]hover:bg-foresthover:text-creamtransition"itemProp="workExample">DownloadEPUB</a>)}</div></div></div></section>);}
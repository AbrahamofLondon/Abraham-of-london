//components/HighQImage.tsximport*asReactfrom"react";import NextImage,{ImageProps}from "next/image";type Props=Omit<ImageProps,"quality">&{/**Overridedefaultquality(85)ifneeded*/quality?:number;/**Heuristic:makeabove-the-foldimageshighpriority*/aboveTheFold?:boolean;};/***Drop-inwrapperfornext/imagewithsanehigh-qualitydefaults:*-AVIF/WEBPviaNextconfig*-quality=85*-sensiblesizesifnotprovided*-autopriorityforabove-the-fold*/export defaultfunctionHighQImage({quality=85,sizes,aboveTheFold,priority,loading,...rest}:Props){constfinalPriority=priority??Boolean(aboveTheFold);constfinalLoading=finalPriority?"eager":(loading??"lazy");constfinalSizes=sizes??//Fullwidthonmobile,constrainedcontaineronlargerscreens"(max-width:640px)100vw,(max-width:1280px)80vw,1200px";return(<NextImagequality={quality}sizes={finalSizes}priority={finalPriority}loading={finalLoadingasany}{...rest}/>);}

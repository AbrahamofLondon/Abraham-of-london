//components/SEOHead.tsximportHeadfrom"next/head";import * as React from "react";import { absUrl } from "@/lib/siteConfig";type ArticleTag=string;type Props={/**Basetitle.Ifitalreadycontains"AbrahamofLondon",wewon'tappenditagain.*/title:string;description?:string;/**PathorabsoluteURL*/slug?:string;/**AbsoluteURLpreferred*/coverImage?:string;publishedTime?:string;modifiedTime?:string;authorName?:string;tags?:ArticleTag[];/**"article","website",or"profile"forOpenGraphtype.*/type?:"article"|"website"|"profile";/**Forceappendingsitename.Bydefaultweauto-appendunlessthetitlealreadyincludesit.*/appendSiteName?:boolean;/**Extratags(e.g.,JSON-LD,preloadhints)*/children?:React.ReactNode;/**NEW:Optionalstructureddatatobeserializedandincluded.Canbeanobjectoranarrayofobjects.*/structuredData?:any|any[];//<--FIX:Addedthemissingprophere};export defaultfunctionSEOHead({title,description="",slug="/",coverImage,publishedTime,modifiedTime,authorName="AbrahamofLondon",tags=[],type="website",appendSiteName,children,structuredData,//<--Destructurethenewprop}:Props){consturl=absUrl(slug);constimg=coverImage||absUrl("/assets/images/social/og-image.jpg");//DecidewhethertoappendsitenameconstalreadyBrande d=/abrahamoflondon/i.test(title);constshouldAppen d=appendSiteName??!alreadyBranded;constfullTitle=shouldAppend?`${title}|AbrahamofLondon`:title;//BaseJSON-LDfortheprimarypagecontentconstbaseJs onL d=type==="article"?{"@context":"https://schema.org","@type":"Article",headline:title,description,image:[img],author:[{"@type":"Person",name:authorName}],datePublished:publishedTime||undefined,dateModified:modifiedTime||publishedTime||undefined,mainEntityOfPage:{"@type":"WebPage","@id":url},}:{"@context":"https://schema.org","@type":type==="profile"?"ProfilePage":"WebPage",name:title,description,url,image:img,};//CombinebaseJSON-LDwithanypassedstructuredData//IfstructuredDataispresent,combinethemintoanarrayforacomprehensiveJSON-LDblock.constcombinedJs onL d=structuredData?Array.isArray(structuredData)?[baseJsonLd,...structuredData]:[baseJsonLd,structuredData]:baseJsonLd;return(<Head d>{/*Title*/}<title>{fullTitle}</title>{/*Canonical+description*/}{description&&<metaname="description"content={description}/>}<linkrel="canonical"href={url}/>{/*OpenGraph*/}<metaproperty="og:type"content={type}/><metaproperty="og:title"content={title}/><metaproperty="og:description"content={description}/><metaproperty="og:url"content={url}/><metaproperty="og:image"content={img}/>{/*Article-onlytags*/}{type==="article"&&publishedTime&&(<metaproperty="article:published_time"content={publishedTime}/>)}{type==="article"&&(modifiedTime||publishedTime)&&(<metaproperty="article:modified_time"content={modifiedTime||publishedTime}/>)}{type==="article"&&tags.map((t)=><metakey={t}property="article:tag"content={t}/>)}{/*Twitter*/}<metaname="twitter:card"content="summary_large_image"/><metaname="twitter:title"content={title}/><metaname="twitter:description"content={description}/><metaname="twitter:image"content={img}/>{/*JSON-LD*/}<scripttype="application/ld+json"dangerouslySetInnerHTML={{__html:JSON.stringify(combinedJsonLd,null,2)}}/>{/*Passthroughforpage-specificextras(preloadhints,additionalJSON-LD,etc.)*/}{children}</Head>);}

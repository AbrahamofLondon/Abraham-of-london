"useclient";importReactfrom"react";importLinkfrom"next/link";importclsxfrom"clsx";typeProps={showAfter?:number;phoneHref?:string;phoneLabel?:string;primaryHref?:string;primaryLabel?:string;secondaryHref?:string;secondaryLabel?:string;className?:string;};constSTORAGE_KEY="cta:dismissed";constisInternal=(href="")=>href.startsWith("/")||href.startsWith("#");//Matchyourlayoutcontainer(max-w-7xl=1280px)andasafeedgepadconstCONTENT_PX=1280;constPAD=16;//DockedcardtargetwidthconstCARD_W=360;//FABdimensionsconstFAB_SIZE=56;constFAB_PAD=10;exportdefaultfunctionStickyCTA({showAfter=480,phoneHref="tel:+442086225909",phoneLabel="CallAbraham",primaryHref="/contact",primaryLabel="WorkWithMe",secondaryHref="/newsletter",secondaryLabel="Subscribe",className,}:Props){constshellRef=React.useRef<HTMLDivElement|null>(null);const[visible,setVisible]=React.useState(false);const[collapsed,setCollapsed]=React.useState(false);const[dismissed,setDismissed]=React.useState(false);const[mode,setMode]=React.useState<"dock"|"fab">("dock");//readpersisteddismissalReact.useEffect(()=>{try{setDismissed(localStorage.getItem(STORAGE_KEY)==="1");}catch{}},[]);//Reservespaceforthedockedcardonly(soitneveroverlayscontent)constpublishHeight=React.useCallback(()=>{if(!shellRef.current)return;consth=Math.ceil(shellRef.current.getBoundingClientRect().height)+16;document.documentElement.style.setProperty("--sticky-cta-h",`${h}px`);},[]);//Dockiftherightguttercanfit360px;elseusetinyFABconstrecomputeMode=React.useCallback(()=>{constvw=typeofwindow!=="undefined"?window.innerWidth:0;constsideGutter=Math.max(0,(vw-CONTENT_PX)/2);constavailable=Math.max(0,sideGutter-PAD);setMode(available>=CARD_W?"dock":"fab");},[]);//show/hide+collapseonscrollReact.useEffect(()=>{letlastY=0,ticking=false;constonScroll=()=>{consty=window.scrollY||0;if(ticking)return;ticking=true;requestAnimationFrame(()=>{setVisible(y>showAfter);setCollapsed(y>showAfter&&y-lastY>6);lastY=y;ticking=false;});};recomputeMode();onScroll();window.addEventListener("scroll",onScroll,{passive:true});window.addEventListener("resize",recomputeMode);window.addEventListener("orientationchange",recomputeMode);return()=>{window.removeEventListener("scroll",onScroll);window.removeEventListener("resize",recomputeMode);window.removeEventListener("orientationchange",recomputeMode);};},[showAfter,recomputeMode]);//Keepthereservedspacesynced(onlyfordockedmode)React.useEffect(()=>{if(!visible||mode!=="dock"){document.documentElement.style.setProperty("--sticky-cta-h","0px");return;}publishHeight();},[visible,collapsed,mode,publishHeight]);//CleanupvaronunmountReact.useEffect(()=>()=>{document.documentElement.style.setProperty("--sticky-cta-h","0px");},[]);constonDismiss=()=>{try{localStorage.setItem(STORAGE_KEY,"1");}catch{}setDismissed(true);document.documentElement.style.setProperty("--sticky-cta-h","0px");};if(dismissed||!visible)returnnull;returnmode==="dock"?(<asiderole="complementary"aria-label="Quickcontact"className={clsx("fixedbottom-4z-[70]transition-[transform,opacity]duration-200",className)}style={{right:PAD,left:"auto",width:CARD_W}}ref={shellRef}data-mode="dock"><DockedCardcollapsed={collapsed}phoneHref={phoneHref}phoneLabel={phoneLabel}primaryHref={primaryHref}primaryLabel={primaryLabel}secondaryHref={secondaryHref}secondaryLabel={secondaryLabel}onDismiss={onDismiss}/></aside>):(<asiderole="complementary"aria-label="Quickcontact"className={clsx("fixedbottom-4right-4z-[70]",className)}ref={shellRef}data-mode="fab"style={{right:PAD}}><divclassName="relativerounded-fullbg-white/95shadow-cardbackdrop-blurdark:bg-[color:var(--color-on-secondary)/0.95]"style={{padding:FAB_PAD}}><buttontype="button"onClick={onDismiss}aria-label="Dismiss"title="Dismiss"className="absolute-right-2-top-2rounded-fullbg-black/70px-1text-[11px]leading-nonetext-whitehover:bg-black/80dark:bg-white/20dark:hover:bg-white/30">ÃƒÆ’—</button>{isInternal(primaryHref)?(<Linkhref={primaryHref}prefetch={false}aria-label={primaryLabel}title={primaryLabel}className="flexh-[56px]w-[56px]items-centerjustify-centerrounded-fullbg-emerald-600text-whiteshadowtransitionhover:bg-emerald-500focus:outline-nonefocus-visible:ring-2focus-visible:ring-emerald-600/40"><PhoneArrowIcon/></Link>):(<ahref={primaryHref}target="_blank"rel="noopenernoreferrer"aria-label={primaryLabel}title={primaryLabel}className="flexh-[56px]w-[56px]items-centerjustify-centerrounded-fullbg-emerald-600text-whiteshadowtransitionhover:bg-emerald-500focus:outline-nonefocus-visible:ring-2focus-visible:ring-emerald-600/40"><PhoneArrowIcon/></a>)}</div></aside>);}/*-----------------presentational:fullcard(docked)-----------------*/typeDockedProps={collapsed:boolean;phoneHref:string;phoneLabel:string;primaryHref:string;primaryLabel:string;secondaryHref:string;secondaryLabel:string;onDismiss:()=>void;};constDockedCard=React.forwardRef<HTMLDivElement,DockedProps>(functionDockedCard({collapsed,phoneHref,phoneLabel,primaryHref,primaryLabel,secondaryHref,secondaryLabel,onDismiss},ref){return(<divref={ref}className={clsx("relativeoverflow-hiddenrounded-2xlborderborder-[color:var(--color-primary)/0.15]bg-white/95shadow-cardbackdrop-blur","px-4py-3sm:px-5sm:py-4dark:bg-[color:var(--color-on-secondary)/0.95]dark:border-white/10",collapsed&&"px-3py-2sm:px-3sm:py-2")}><buttontype="button"onClick={onDismiss}aria-label="Dismiss"title="Dismiss"className={clsx("absoluteright-2top-2rounded-mdp-1text-[color:var(--color-on-secondary)/0.6]hover:bg-black/5","dark:text-[color:var(--color-on-primary)/0.7]dark:hover:bg-white/10")}><spanaria-hidden>ÃƒÆ’—</span></button><divclassName={clsx("flexitems-centergap-3sm:gap-4",collapsed&&"gap-2")}><ahref={phoneHref}aria-label={phoneLabel}title={phoneLabel}className={clsx("inline-flexshrink-0items-centerjustify-centerrounded-fullborderborder-emerald-600/30bg-emerald-50px-3py-2","hover:bg-emerald-100focus:outline-nonefocus-visible:ring-2focus-visible:ring-emerald-600/40","dark:bg-emerald-900/30dark:border-emerald-400/30dark:hover:bg-emerald-900/50")}><PhoneIcon/></a><divclassName="min-w-0flex-1">{!collapsed&&<pclassName="truncatetext-smfont-mediumtext-forestdark:text-cream">Let'sbuildsomethingenduring.</p>}<divclassName={clsx("mt-2flexflex-wrapgap-2",collapsed&&"mt-0")}>{isInternal(primaryHref)?(<Linkhref={primaryHref}prefetch={false}className={clsx("inline-flexitems-centerrounded-fullbg-emerald-600px-3py-1.5text-smfont-semiboldtext-white","shadow-smtransitionhover:bg-emerald-500focus:outline-nonefocus-visible:ring-2focus-visible:ring-emerald-600/40",collapsed&&"px-3py-1text-[13px]")}aria-label={primaryLabel}>{primaryLabel}</Link>):(<ahref={primaryHref}target="_blank"rel="noopenernoreferrer"className={clsx("inline-flexitems-centerrounded-fullbg-emerald-600px-3py-1.5text-smfont-semiboldtext-white","shadow-smtransitionhover:bg-emerald-500focus:outline-nonefocus-visible:ring-2focus-visible:ring-emerald-600/40",collapsed&&"px-3py-1text-[13px]")}aria-label={primaryLabel}>{primaryLabel}</a>)}{!collapsed&&(isInternal(secondaryHref)?(<Linkhref={secondaryHref}prefetch={false}className={clsx("inline-flexitems-centerrounded-fullborderborder-[color:var(--color-primary)/0.2]px-3py-1.5text-smfont-semiboldtext-forest","transitionhover:bg-foresthover:text-creamfocus:outline-nonefocus-visible:ring-2focus-visible:ring-[color:var(--color-primary)/0.3]","dark:text-creamdark:border-white/20dark:hover:bg-white/10")}aria-label={secondaryLabel}>{secondaryLabel}</Link>):(<ahref={secondaryHref}target="_blank"rel="noopenernoreferrer"className={clsx("inline-flexitems-centerrounded-fullborderborder-[color:var(--color-primary)/0.2]px-3py-1.5text-smfont-semiboldtext-forest","transitionhover:bg-foresthover:text-creamfocus:outline-nonefocus-visible:ring-2focus-visible:ring-[color:var(--color-primary)/0.3]","dark:text-creamdark:border-white/20dark:hover:bg-white/10")}aria-label={secondaryLabel}>{secondaryLabel}</a>))}</div></div></div></div>);});functionPhoneIcon(){return(<svgwidth="20"height="20"viewBox="002424"aria-hidden="true"focusable="false"role="img"className="block"fill="currentColor"><pathd="M2216.92v3a22001-2.18219.8619.86001-8.63-3.0719.519.5001-6-6A19.8619.860012.084.18220014.062h3a2200121.72c.12.9.331.77.622.6a22001-.452.11L8.099.91a161600066l1.48-1.14a220012.11-.45c.83.291.7.52.6.62A220012216.92z"/></svg>);}functionPhoneArrowIcon(){return(<svgwidth="22"height="22"viewBox="002424"aria-hidden="true"focusable="false"role="img"fill="currentColor"><pathd="M312a770017-7h4a77011014H9l-44v-4a77001-2-7z"/></svg>);}
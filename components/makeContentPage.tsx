//components/makeContentPage.tsximport*asReactfrom"react";import Headfrom"next/head";import MDXRendererfrom"./MDXRenderer";import { MdxComponents } from "./MdxComponents";//AssumingyouhavethistypefromMdxComponents.tsx//------------------------------//type Definitions//------------------------------//type forthecontentdocumentdata(e.g.,fromContentlayerfrontmatter)export interfaceContentDocument{title:string;description?:string;excerpt?:string;body?:{code:string};//Extendthistypewithanyothercommonmetadatafields(e.g.,date,author)}//type fortheoptionspassedtotheHOCfunctionexportinterfaceMakeContentPageOptions{titleSuffix?:string;//OptiontopassthroughadefaultsetofMDXcomponentscomponents?:MdxComponents;}//------------------------------//PageWrapperHOC//------------------------------/***Autilityfunction(Higher-OrderComponent)towrapcontentdata*intoastandardpagelayoutwithSEOmetadata.**@paramoptsOptionsforthewrapper,suchastitlesuffixanddefaultMDXcomponents.*@returnsAReactfunctionalcomponent(theContentPage)readytobeexportedfromaNext.jspagefile.*/export function makeContentPage<TextendsContentDocument>(opts:MakeContentPageOptions={}//Setdefaultemptyobjectforopts){const{titleSuffix="AbrahamofLondon",components}=opts;constContentPage=({doc}:{doc:T})=>{//LogictodeterminethemetadescriptionconstmetaDescription=doc.description||doc.excerpt;return(<><Head d><title>{doc.title}—{titleSuffix}</title>{metaDescription&&<metaname="description"content={metaDescription}/>}</Head><article className="proselg:prose-lgmx-autopx-4py-10"><h1>{doc.title}</h1>{/*PasscomponentstotheMDXRenderersocustomMDXelements(like<Callout>)arerenderedcorrectly.*/}{doc.body?.code&&<MDXRenderercode={doc.body.code}components={components}/>}</article></>);};//FIX:Adddisplaynametosatisfythe'react/display-name'ruleContentPage.displayName='ContentPageWrapper';returnContentPage;}

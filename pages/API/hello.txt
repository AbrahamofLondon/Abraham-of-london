@'
// pages/api/hello.js
export default function handler(req, res) {
  const dynamicData = {
    timestamp: new Date().toISOString(),
    server: process.env.NODE_ENV,
    method: req.method,
    message: 'Hello from the server!',
    random: Math.random()
  };

  // Set CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Content-Type', 'application/json');

  // Return JSON response
  res.status(200).json(dynamicData);
}
'@ | Out-File -Path pages/api/hello.js -Encoding UTF8
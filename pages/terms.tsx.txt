// pages/terms.tsx
import type { GetStaticProps, InferGetStaticPropsType } from "next";
import Head from "next/head";
import Layout from "@/components/Layout";

type Props = {
  origin: string;   // canonical origin computed at build-time
  updated: string;  // last updated date
};

export const getStaticProps: GetStaticProps<Props> = async () => {
  const origin = (
    process.env.NEXT_PUBLIC_SITE_URL ||
    process.env.URL ||
    process.env.DEPLOY_PRIME_URL ||
    "https://abrahamoflondon.org"
  ).replace(/\/+$/, "");

  return {
    props: {
      origin,
      updated: "August 16, 2025",
    },
    // revalidate daily; adjust if you prefer purely static
    revalidate: 86400,
  };
};

export default function TermsOfService({
  origin,
  updated,
}: InferGetStaticPropsType<typeof getStaticProps>) {
  return (
    <Layout pageTitle="Terms of Service">
      <Head>
        <meta
          name="description"
          content="Terms and conditions for using Abraham of London's website and services."
        />
        <link rel="canonical" href={`${origin}/terms`} />
        <meta property="og:title" content="Terms of Service | Abraham of London" />
        <meta property="og:description" content="Terms and conditions for using this site." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content={`${origin}/terms`} />
      </Head>

      <main className="container mx-auto px-4 py-16 max-w-3xl">
        <h1 className="text-3xl font-bold mb-6">Terms of Service</h1>
        <p className="mb-4 text-deepCharcoal/70">Last updated: {updated}</p>

        <section aria-labelledby="intro">
          <h2 id="intro" className="text-2xl font-semibold mt-8 mb-2">Introduction</h2>
          <p className="mb-4">
            Welcome to Abraham of London. By accessing or using our website, you agree to these Terms of Service.
            If you do not agree, please do not use the site.
          </p>
        </section>

        <section aria-labelledby="use">
          <h2 id="use" className="text-2xl font-semibold mt-8 mb-2">Use of Our Services</h2>
          <p className="mb-4">
            You may use our site for personal, non-commercial purposes. You agree not to misuse our services,
            attempt to gain unauthorised access, or introduce malware or other harmful content.
          </p>
        </section>

        <section aria-labelledby="ip">
          <h2 id="ip" className="text-2xl font-semibold mt-8 mb-2">Intellectual Property</h2>
          <p className="mb-4">
            All content on this site—including text, images, graphics, and logos—is owned by Abraham of London
            or its licensors and protected by applicable intellectual property laws. You may not reproduce,
            distribute, or create derivative works without prior written consent.
          </p>
        </section>

        <section aria-labelledby="liability">
          <h2 id="liability" className="text-2xl font-semibold mt-8 mb-2">Limitation of Liability</h2>
          <p className="mb-4">
            To the maximum extent permitted by law, we are not liable for any indirect, incidental, special,
            consequential, or punitive damages arising from your use of the site.
          </p>
        </section>

        <section aria-labelledby="law">
          <h2 id="law" className="text-2xl font-semibold mt-8 mb-2">Governing Law</h2>
          <p className="mb-4">
            These Terms are governed by the laws of the United Kingdom. Any disputes will be resolved by the courts of London.
          </p>
        </section>

        <section aria-labelledby="changes">
          <h2 id="changes" className="text-2xl font-semibold mt-8 mb-2">Changes to These Terms</h2>
          <p className="mb-4">
            We may modify these Terms from time to time. Continued use of the site after changes are posted
            constitutes acceptance of the updated Terms.
          </p>
        </section>

        <p className="mt-10 text-sm text-deepCharcoal/70">
          For information about how we handle personal data, please see our{" "}
          <a href="/privacy" className="text-forest underline underline-offset-2 hover:opacity-80">
            Privacy Policy
          </a>.
        </p>
      </main>
    </Layout>
  );
}

/* styles/theme-transitions.css - Integrated Theme Transitions */

/*
 * ----------------------------------------------------------------------
 * 13. Theme Transition Utilities (Integrated)
 * ----------------------------------------------------------------------
 * Seamlessly integrated with your existing theme variables and components
 */

/*
 * Root transition class - Add to <html> or <body>
 * Uses your existing transition variables for consistency
 */
.themeTransition {
  transition:
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base);
}

/*
 * Cascade transitions to all child elements
 * Respects your existing component transitions
 */
.themeTransition *,
.themeTransition *::before,
.themeTransition *::after {
  transition:
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base),
    fill var(--transition-base),
    stroke var(--transition-base),
    box-shadow var(--transition-base);
}

/*
 * Exclude media and complex elements for performance
 * Preserves your existing image and video styles
 */
.themeTransition img,
.themeTransition video,
.themeTransition canvas,
.themeTransition iframe,
.themeTransition svg:not([class*="icon"]) {
  transition: none;
}

/*
 * Utility to disable transitions temporarily
 * Useful for batch theme updates
 */
.noTransition,
.noTransition *,
.noTransition *::before,
.noTransition *::after {
  transition: none !important;
}

/*
 * ----------------------------------------------------------------------
 * Integrated Component Transitions
 * ----------------------------------------------------------------------
 * These work with your existing component classes
 */

/* Button transitions that match your btn styles */
.btn {
  transition: all var(--transition-base);
}

.btnPrimary {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base),
    transform var(--transition-base),
    box-shadow var(--transition-base);
}

.btnSecondary,
.btnDanger {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base),
    transform var(--transition-base);
}

/* Card transitions with glass effect */
.card {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    box-shadow var(--transition-base),
    transform var(--transition-base);
}

/* Input transitions */
.input,
.inputSearch,
.select,
.selectCategory {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base),
    box-shadow var(--transition-base);
}

/* List item transitions */
.pdfListItem {
  transition: all var(--transition-base);
}

.pdfListItemSelected {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    box-shadow var(--transition-base);
}

.pdfListItemNormal:hover {
  transition: 
    background-color var(--transition-fast),
    border-color var(--transition-fast),
    transform var(--transition-fast);
}

/* Stat card transitions */
.statCard {
  transition: 
    background-color var(--transition-fast),
    border-color var(--transition-fast);
}

/*
 * ----------------------------------------------------------------------
 * Typography Transitions
 * ----------------------------------------------------------------------
 * Seamless text color transitions for legacy content
 */

.legacyContent {
  transition: color var(--transition-base);
}

.legacyContent h1,
.legacyContent h2,
.legacyContent h3,
.legacyContent h4 {
  transition: color var(--transition-base);
}

.legacyContent p,
.legacyContent li,
.legacyContent a,
.legacyContent strong,
.legacyContent em {
  transition: 
    color var(--transition-base),
    background-color var(--transition-base),
    border-color var(--transition-base);
}

.legacyContent blockquote {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base);
}

.legacyContent code,
.legacyContent pre {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base);
}

/*
 * ----------------------------------------------------------------------
 * Main Layout Transitions
 * ----------------------------------------------------------------------
 */

.page {
  transition: 
    background var(--transition-base),
    color var(--transition-base);
}

.main {
  transition: 
    background-color var(--transition-base),
    border-color var(--transition-base),
    box-shadow var(--transition-base);
}

.hero {
  transition: 
    background var(--transition-base),
    color var(--transition-base);
}

.nav {
  transition: 
    border-color var(--transition-base),
    background-color var(--transition-base);
}

.navLogo {
  transition: color var(--transition-base);
}

.navLink {
  transition: color var(--transition-fast);
}

.footer {
  transition: 
    border-color var(--transition-base),
    color var(--transition-base);
}

.footerLink {
  transition: color var(--transition-fast);
}

/*
 * ----------------------------------------------------------------------
 * Performance-Optimized Transitions
 * ----------------------------------------------------------------------
 * Respects user motion preferences
 */

@media (prefers-reduced-motion: no-preference) {
  .themeTransitionReduced {
    transition:
      background-color var(--transition-base),
      border-color var(--transition-base),
      color var(--transition-base);
  }
}

@media (prefers-reduced-motion: reduce) {
  .themeTransitionReduced,
  .themeTransitionReduced *,
  .themeTransitionReduced *::before,
  .themeTransitionReduced *::after {
    transition: none !important;
  }
}

/*
 * Hardware acceleration for complex transitions
 */
.themeTransitionHardware {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/*
 * ----------------------------------------------------------------------
 * Theme Change States
 * ----------------------------------------------------------------------
 * Use with JavaScript for controlled transitions
 */

.themeChanging {
  pointer-events: none;
  cursor: wait;
  opacity: 0.95;
}

.themeChanging .btn,
.themeChanging .card,
.themeChanging .input {
  opacity: 0.8;
}

.themeChanged {
  animation: themeChangedPulse 0.5s ease-out;
}

@keyframes themeChangedPulse {
  0% {
    opacity: 0.95;
  }
  50% {
    opacity: 0.98;
  }
  100% {
    opacity: 1;
  }
}

/*
 * ----------------------------------------------------------------------
 * Staggered Transitions
 * ----------------------------------------------------------------------
 * Creates natural-feeling transition sequences
 */

.themeTransitionDelay1 {
  transition-delay: 0.05s;
}

.themeTransitionDelay2 {
  transition-delay: 0.1s;
}

.themeTransitionDelay3 {
  transition-delay: 0.15s;
}

.themeTransitionDelay4 {
  transition-delay: 0.2s;
}

/* Apply delays to component layers */
.nav {
  transition-delay: 0.05s;
}

.hero {
  transition-delay: 0.1s;
}

.main {
  transition-delay: 0.15s;
}

.card {
  transition-delay: 0.2s;
}

.btn {
  transition-delay: 0.25s;
}

/*
 * ----------------------------------------------------------------------
 * Dark/Light Theme Specific Transitions
 * ----------------------------------------------------------------------
 */

/* Enhanced transitions for dark mode */
:global(html.dark) .darkThemeTransition {
  transition-duration: 0.4s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced transitions for light mode */
:global(html:not(.dark)) .lightThemeTransition {
  transition-duration: 0.4s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Specific adjustments for light theme transitions */
@media (prefers-color-scheme: light) {
  :global(html:not(.dark)) .lightThemeTransition {
    transition-duration: 0.35s;
  }
}

/*
 * ----------------------------------------------------------------------
 * JavaScript Control Classes
 * ----------------------------------------------------------------------
 */

.jsThemeChanging {
  overflow: hidden;
}

.jsThemeLoading {
  opacity: 0.7;
  filter: blur(0.5px);
  transition: 
    opacity var(--transition-base),
    filter var(--transition-base);
}

.jsThemeLoaded {
  opacity: 1;
  filter: blur(0);
  transition: 
    opacity var(--transition-base),
    filter var(--transition-base);
}

/*
 * ----------------------------------------------------------------------
 * Responsive Transition Adjustments
 * ----------------------------------------------------------------------
 * Faster transitions on mobile for better UX
 */

@media (max-width: 768px) {
  .themeTransition {
    transition-duration: 0.2s;
  }
  
  .themeTransition *,
  .themeTransition *::before,
  .themeTransition *::after {
    transition-duration: 0.2s;
  }
  
  .btn,
  .card,
  .input {
    transition-duration: 0.2s;
  }
}

@media (max-width: 480px) {
  .themeTransition {
    transition-duration: 0.15s;
  }
}

@media (min-width: 1024px) {
  .themeTransition {
    transition-duration: 0.4s;
  }
  
  .btn:hover,
  .card:hover {
    transition-duration: 0.3s;
  }
}

/*
 * ----------------------------------------------------------------------
 * High Contrast Mode Support
 * ----------------------------------------------------------------------
 */

@media (prefers-contrast: high) {
  .themeTransition {
    transition-duration: 0.1s;
  }
}

/*
 * ----------------------------------------------------------------------
 * Print Styles
 * ----------------------------------------------------------------------
 */

@media print {
  .themeTransition,
  .themeTransition *,
  .themeTransition *::before,
  .themeTransition *::after {
    transition: none !important;
  }
}

/*
 * ----------------------------------------------------------------------
 * Debug & Development Utilities
 * ----------------------------------------------------------------------
 */

.debugTransitionOutline * {
  outline: 1px solid rgba(var(--color-primary), 0.3) !important;
}

.debugTransitionTiming::after {
  content: 'Transition: ' attr(data-transition);
  position: fixed;
  bottom: 10px;
  right: 10px;
  background: var(--color-surface);
  color: var(--color-on-background);
  padding: 8px 12px;
  border-radius: var(--radius-md);
  font-size: 11px;
  font-family: var(--font-family-mono);
  border: 1px solid var(--ui-alpha-border);
  z-index: 9999;
  backdrop-filter: blur(10px);
}

/*
 * ----------------------------------------------------------------------
 * Complete Application Transition Class
 * ----------------------------------------------------------------------
 * Apply this to your root element for full theme transition support
 */

.appThemeTransition {
  composes: themeTransition;
}

.appThemeTransition *,
.appThemeTransition *::before,
.appThemeTransition *::after {
  transition:
    background-color var(--transition-base),
    border-color var(--transition-base),
    color var(--transition-base),
    fill var(--transition-base),
    stroke var(--transition-base);
}

/* Match your existing exclusions */
.appThemeTransition img,
.appThemeTransition video,
.appThemeTransition canvas,
.appThemeTransition iframe,
.appThemeTransition svg:not([class*="icon"]) {
  transition: none;
}

/*
 * Smooth loading animation for initial theme application
 */
.appThemeLoading {
  animation: appThemeFadeIn 0.6s ease-out;
}

@keyframes appThemeFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}